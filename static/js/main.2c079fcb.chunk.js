(this["webpackJsonpgcg-report-viewer"]=this["webpackJsonpgcg-report-viewer"]||[]).push([[0],{265:function(e,t,n){},272:function(e,t,n){},355:function(e,t,n){},356:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(65),i=n.n(a),o=(n(221),n(151)),l=n(14),s=n(18),d=n(11),u=["*xch","xch"],b=function(e){var t;return null===e||void 0===e||null===(t=e.choiceOptions)||void 0===t?void 0:t.find((function(e){return e.coordinates.includes("*")}))},j=function(e){var t;return null===e||void 0===e||null===(t=e.choiceOptions)||void 0===t?void 0:t.find((function(e){return"best"===e.evaluate}))},p=function(e){return e.replace(/[a-z,\u0105,\u0119,\u0107,\u015b,\u0142, \u0144, \xf3, \u017c,\u017a]/g,"?").replaceAll(".","")},x=function(e){var t=e.x,n=e.y;return e.vertical?"".concat(String.fromCharCode(t+65)).concat(n+1):"".concat(n+1).concat(String.fromCharCode(t+65))},O=function(e){var t=[];!function n(c){var r=e.indexOf("(",c),a=e.indexOf(")",c+1);-1!==a&&(t.push({start:r,end:a}),n(a))}(0);return e.split("").map((function(e,n){return["(",")"].includes(e)?void 0:(c=n,t.some((function(e){return e.start<c&&e.end>c})));var c})).filter((function(e){return void 0!==e}))},f={moves:[],actualMoveIndex:void 0,actualOptionIndex:0,withoutNewMove:!1,player1:"",player2:""},h="SET_MOVES_ARRAY",v="SET_MOVE_INDEX",m="INCREMENT_MOVE_INDEX",g="DECREMENT_MOVE_INDEX",y="INCREMENT_OPTION_INDEX",w="DECREMENT_OPTION_INDEX",k="SET_OPTION_INDEX",C="SET_WITHOUT_NEW_MOVE",N="CLEAR_GAME";function I(e,t){var n=e.moves,c=e.actualMoveIndex,r=e.actualOptionIndex;switch(t.type){case h:return Object(s.a)(Object(s.a)({},e),{},{moves:t.payload,actualMoveIndex:0,actualOptionIndex:b(t.payload[0]).index,player1:t.payload[0].nick.replace("_"," "),player2:t.payload[1].nick.replace("_"," ")});case v:var a=t.payload>-1?t.payload:e.moves.length-1+t.payload;return Object(s.a)(Object(s.a)({},e),{},{actualMoveIndex:a,actualOptionIndex:b(n[a]).index});case m:return n.length>c+2?Object(s.a)(Object(s.a)({},e),{},{actualMoveIndex:c+1,actualOptionIndex:b(n[c+1]).index}):e;case g:return c>0?Object(s.a)(Object(s.a)({},e),{},{actualMoveIndex:c-1,actualOptionIndex:b(n[c-1]).index}):e;case k:return Object(s.a)(Object(s.a)({},e),{},{actualOptionIndex:t.payload});case y:return r+1<n[c].choiceOptions.length?Object(s.a)(Object(s.a)({},e),{},{actualOptionIndex:r+1}):e;case w:return 0!==e.actualOptionIndex?Object(s.a)(Object(s.a)({},e),{},{actualOptionIndex:e.actualOptionIndex-1}):e;case C:return Object(s.a)(Object(s.a)({},e),{},{withoutNewMove:t.payload});case N:return Object(s.a)({},f)}}var E,M,z,A,S,P,R,T,L,B,F,W,D,_,V,U,H,J,G,X,Z,Y,K,Q,$,q,ee,te,ne,ce,re,ae,ie,oe,le,se,de,ue,be,je,pe,xe,Oe,fe,he,ve,me,ge,ye,we,ke,Ce,Ne=n(1),Ie=r.a.createContext(),Ee=function(){return Object(c.useContext)(Ie)},Me=function(e){var t=e.children,n=Object(c.useReducer)(I,f),r=Object(d.a)(n,2),a=r[0],i=r[1];return Object(Ne.jsx)(Ie.Provider,{value:Object(s.a)(Object(s.a)({},a),{},{dispatch:i}),children:t})},ze=Ie,Ae=n(8),Se=n(9),Pe=n(31),Re={A:1,"\u0104":5,B:3,C:2,"\u0106":6,D:2,E:1,"\u0118":5,F:5,G:3,H:3,I:1,J:3,K:2,L:2,"\u0141":3,M:2,N:1,"\u0143":7,O:1,"\xd3":5,P:2,R:1,S:1,"\u015a":5,T:2,U:3,W:1,Y:2,Z:1,"\u0179":9,"\u017b":5},Te={word2:{color:"#e8b442",text:"PODW\xd3JNA PREMIA S\u0141OWNA"},word3:{color:"#c02929",text:"POTR\xd3JNA PREMIA S\u0141OWNA"},letter2:{color:"#7590c7",text:"PODW\xd3JNA PREMIA LITEROWA"},letter3:{color:"#0078c1",text:"POTR\xd3JNA PREMIA LITEROWA"},middle:{color:"#e8b442",text:""}},Le="#f8e8c7",Be="#1ae825",Fe=function(e){var t=e.size,n=e.x,c=e.y,r=e.letter,a=e.transparent,i=e.newMove,o=r===r.toLowerCase(),l=i?Be:Le,s=t>37?10:t/4,d=t>37?25:Math.floor(t/2);return Object(Ne.jsxs)(Ne.Fragment,{children:[Object(Ne.jsx)(Pe.c,{x:n+1,y:c+1,width:t-2,height:t-2,fill:l,cornerRadius:t>37?4:2,opacity:a?0:1,"data-testid":"tile"}),Object(Ne.jsx)(Pe.f,{x:n,y:c+(t>37?8:d/2),width:t,height:t,fill:"#015b52",text:r.toUpperCase(),align:"center",fontSize:d,verticalAlign:"center",fontFamily:"Arial",fontStyle:"bold",opacity:a?0:o?.3:1,"data-testid":"letter"}),Object(Ne.jsx)(Pe.f,{x:n+t-2-s,y:c+t-2-s,width:s,height:s,fill:"#015b52",text:Re[r],align:"center",fontSize:t>37?9:Math.floor(t/4),verticalAlign:"center",fontFamily:"Arial",fontStyle:"bold",opacity:a?0:1,"data-testid":"points"})]})},We=function(e){var t=e.isNewMove,n=e.letters,c=e.coordinates,r=Ee().fieldSize,a=function(e){var t=e.split("").filter((function(e){return"*"!==e})).join("");return t.slice(-1)!==t.slice(-1).toLowerCase()?{x:t.slice(-1).charCodeAt()-65,y:t.slice(0,-1)-1,verticle:!1}:{x:t[0].charCodeAt()-65,y:t.slice(1)-1,verticle:!0}}(c),i=a.x,o=a.y,l=a.verticle,s=O(n),d=n.split("").filter((function(e){return!["(",")"].includes(e)})).map((function(e,n){return Object(Ne.jsx)(Fe,{x:l?i*r:(i+n)*r,y:l?(o+n)*r:o*r,letter:e,transparent:s[n],newMove:t,size:r},n)}));return Object(Ne.jsx)(Ne.Fragment,{children:d})},De=function(){var e,t=Ee(),n=t.moves,c=t.actualMoveIndex,r=t.actualOptionIndex;return{actualMove:null===n||void 0===n?void 0:n[c],actualOption:null===n||void 0===n||null===(e=n[c])||void 0===e?void 0:e.choiceOptions[r],currentMoves:null===n||void 0===n?void 0:n.slice(0,c),isLossMove:function(e){return n[e].pointsBefore===n[e+2].pointsBefore}}},_e=function(){var e=De(),t=e.currentMoves,n=e.isLossMove;return Object(Ne.jsx)(Ne.Fragment,{children:t.map((function(e,t){var c=b(e),r=c.word,a=c.coordinates;return function(e){return u.some((function(t){return t===e}))}(a)||n(t)?null:Object(Ne.jsx)(We,{letters:r,coordinates:a},t)}))})},Ve=n(20),Ue=Se.b.div(E||(E=Object(Ae.a)(["\n  position: absolute;\n  color: white;\n  line-height: 30px;\n  left: 40px;\n  height: 30px;\n  width: calc(100% - 80px);\n  font-size: 11px;\n  display: flex;\n"]))),He=Se.b.div(M||(M=Object(Ae.a)(["\n  position: absolute;\n  color: white;\n  top: 30px;\n  left: 10px;\n  height: calc(100% - 80px);\n  width: 30px;\n  font-size: 11px;\n  display: flex;\n  flex-direction: column;\n"]))),Je=Se.b.div(z||(z=Object(Ae.a)(["\n  width: calc(100% / 15);\n  text-align: center;\n"]))),Ge=Se.b.div(A||(A=Object(Ae.a)(["\n  height: calc(100% / 15);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Xe=function(){return Object(Ne.jsxs)(Ne.Fragment,{children:[Object(Ne.jsx)(Ue,{children:Object(Ve.a)(Array(15).keys()).map((function(e){return Object(Ne.jsx)(Je,{children:e+1},e)}))}),Object(Ne.jsx)(He,{children:"ABCDEFGHIJKLMNO".split("").map((function(e){return Object(Ne.jsx)(Ge,{children:e},e)}))})]})},Ze=(n(265),function(e){var t=e.top;return Object(Ne.jsx)(Ne.Fragment,{children:Object(Ne.jsx)("div",{className:t?"tridiv top":"tridiv ",children:Object(Ne.jsxs)("div",{className:"scene",children:[Object(Ne.jsxs)("div",{className:"shape prism-1 pri-1",children:[Object(Ne.jsx)("div",{className:"face ft",children:Object(Ne.jsx)("div",{className:"photon-shader bcg1"})}),Object(Ne.jsx)("div",{className:"face bk",children:Object(Ne.jsx)("div",{className:"photon-shader bcg2"})}),Object(Ne.jsx)("div",{className:"face-wrapper rt",children:Object(Ne.jsx)("div",{className:"face",children:Object(Ne.jsx)("div",{className:"photon-shader bcg2"})})}),Object(Ne.jsx)("div",{className:"face-wrapper lt",children:Object(Ne.jsx)("div",{className:"face",children:Object(Ne.jsx)("div",{className:"photon-shader bcg2"})})}),Object(Ne.jsx)("div",{className:"face bm",children:Object(Ne.jsx)("div",{className:"photon-shader bcg2"})})]}),Object(Ne.jsxs)("div",{className:"shape cuboid-1 cub-1",children:[Object(Ne.jsx)("div",{className:"face ft",children:Object(Ne.jsx)("div",{className:"photon-shader bcg2"})}),Object(Ne.jsx)("div",{className:"face bk",children:Object(Ne.jsx)("div",{className:"photon-shader bcg2"})}),Object(Ne.jsx)("div",{className:"face rt",children:Object(Ne.jsx)("div",{className:"photon-shader bcg2"})}),Object(Ne.jsx)("div",{className:"face lt",children:Object(Ne.jsx)("div",{className:"photon-shader bcg2"})}),Object(Ne.jsx)("div",{className:"face bm",children:Object(Ne.jsx)("div",{className:"photon-shader bcg2"})}),Object(Ne.jsx)("div",{className:"face tp",children:Object(Ne.jsx)("div",{className:"photon-shader bcg2"})})]})]})})})}),Ye=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],a=De(),i=a.currentMoves,o=a.isLossMove;return Object(c.useEffect)((function(){var e=i.filter((function(e,t){return!o(t)})).map((function(e){return b(e)})).reduce((function(e,t){var n=t.word;return[].concat(Object(Ve.a)(e),Object(Ve.a)(n.replaceAll(/\([^)]+\)/g,"").split("")))}),"");r(Object(Ve.a)(e))}),[i.length]),{usedLetters:n}},Ke=Se.b.div(S||(S=Object(Ae.a)(["\n  position: absolute;\n  display: flex;\n  flex-wrap: wrap;\n  width: 300px;\n  height: 300px;\n  user-select: none;\n  background-color: rgb(75, 75, 75);\n  z-index: 2;\n  top: 40px;\n  left: 20px;\n"]))),Qe=Se.b.div(P||(P=Object(Ae.a)(["\n  box-sizing: border-box;\n  text-align: center;\n  width: 30px;\n  height: 30px;\n  background-color: #f8e8c7;\n  border: 1px solid rgb(218, 193, 145);\n  color: #015b52;\n  border-radius: 3px;\n  font-size: 20px;\n  line-height: 30px;\n  opacity: ",";\n"])),(function(e){return e.onBoard?.4:1})),$e=function(e){var t=Object(Ve.a)(e);return"AAAAAAAAA\u0104BBCCC\u0106DDDEEEEEEE\u0118FGGHHIIIIIIIIJJKKKLLL\u0141\u0141MMMNNNNN\u0143OOOOOO\xd3PPPRRRRSSSS\u015aTTTUUWWWWYYYYZZZZZ\u017b\u0179??".split("").map((function(e,n){var c=t.includes(e);return c&&t.splice(t.indexOf(e),1),Object(Ne.jsx)(Qe,{onBoard:c,children:e},n)}))},qe=function(){var e=De().actualMove,t=Object(c.useState)([]),n=Object(d.a)(t,2),r=n[0],a=n[1],i=Ye().usedLetters;return Object(c.useEffect)((function(){a([].concat(Object(Ve.a)(i),Object(Ve.a)(e.letters)))}),[i,e]),Object(Ne.jsx)(Ke,{"data-testid":"deletion",children:$e(r)})},et=n(375),tt=Object(Se.b)(et.a)(R||(R=Object(Ae.a)(["\n  background: #f9e254 !important;\n  color: #03252b !important;\n  padding: 12px !important;\n  &:hover {\n    background-color: #779827 !important;\n    color: #f9e254 !important;\n  }\n  ","\n"])),(function(e){return e.clicked&&Object(Se.a)(T||(T=Object(Ae.a)(["\n      background-color: #779827 !important;\n      color: #f9e254 !important;\n    "])))})),nt=n(373),ct=function(){var e=Ee(),t=e.player1,n=e.player2;return Object(Ne.jsx)(nt.a.Header,{children:Object(Ne.jsxs)(nt.a.Row,{children:[Object(Ne.jsx)(nt.a.HeaderCell,{colSpan:"2",textAlign:"center",children:t}),Object(Ne.jsx)(nt.a.HeaderCell,{colSpan:"2",textAlign:"center",children:n})]})})},rt=function(){var e=Ee(),t=e.moves,n=e.dispatch,r=t.slice(0,t.length-(t.length%2?2:1)),a=(t[t.length-1].letters-t[t.length-2].pointsBefore-parseInt(b(t[t.length-2]).movePoints))/2;return{moves:t,realMoves:r,deductedPoints:a,endingPlayerPoints:parseInt(t[t.length-3].pointsBefore)+parseInt(b(t[t.length-3]).movePoints)-a,notEndingPlayerPoints:parseInt(t[t.length-2].pointsBefore)+parseInt(b(t[t.length-2]).movePoints)+a,handleCellClick:Object(c.useCallback)((function(e,t){return n({type:v,payload:t+parseInt(e.target.dataset.player)})}))}},at=function(e){var t,n=e.move,c=e.playerIndex,r=Ee().actualMoveIndex,a=parseInt(null===(t=b(n))||void 0===t?void 0:t.movePoints)||0,i=r===n.index,o=void 0===n.pointsBefore;return Object(Ne.jsxs)(Ne.Fragment,{children:[Object(Ne.jsx)(nt.a.Cell,{active:i,"data-player":o?0:c,children:o?"":"+".concat(a)}),Object(Ne.jsx)(nt.a.Cell,{active:i,"data-player":o?0:c,children:o?"":a+parseInt(n.pointsBefore)})]})},it=function(e){var t=e.moves;return Object(Ne.jsxs)(Ne.Fragment,{children:[Object(Ne.jsx)(at,{move:t[0],playerIndex:0}),Object(Ne.jsx)(at,{move:t[1],playerIndex:1})]})},ot=function(){var e=rt(),t=e.moves,n=e.realMoves,c=e.deductedPoints,r=e.endingPlayerPoints,a=e.notEndingPlayerPoints,i=e.handleCellClick;return Object(Ne.jsxs)(Ne.Fragment,{children:[n.map((function(e,n){return n%2?null:Object(Ne.jsx)(nt.a.Row,{textAlign:"center",onClick:function(e){return i(e,n)},style:{cursor:"pointer"},children:Object(Ne.jsx)(it,{moves:t.slice(n,n+2)})},n)})),Object(Ne.jsxs)(nt.a.Row,{textAlign:"center",children:[Object(Ne.jsxs)(nt.a.Cell,{"data-player":0,children:[t.length%2?"-":"+",c]}),Object(Ne.jsx)(nt.a.Cell,{"data-player":0,children:t.length%2?r:a}),Object(Ne.jsxs)(nt.a.Cell,{"data-player":1,children:[t.length%2?"+":"-",c]}),Object(Ne.jsx)(nt.a.Cell,{"data-player":1,children:t.length%2?a:r})]})]})},lt=Se.b.div(L||(L=Object(Ae.a)(["\n  position: absolute;\n  width: 500px;\n  top: 40px;\n  left: 10px;\n  z-index: 2;\n"]))),st=function(){return Object(Ne.jsx)(lt,{"data-testid":"full-result",children:Object(Ne.jsxs)(nt.a,{celled:!0,structured:!0,unstackable:!0,children:[Object(Ne.jsx)(ct,{}),Object(Ne.jsx)(nt.a.Body,{children:Object(Ne.jsx)(ot,{})})]})})},dt=function(){var e=Ee(),t=e.withoutNewMove,n=e.dispatch,r=Object(c.useState)(!1),a=Object(d.a)(r,2),i=a[0],o=a[1],l=Object(c.useState)(!1),s=Object(d.a)(l,2),u=s[0],b=s[1];Object(c.useEffect)((function(){i&&(!function(e){var t=document.createElement("a");t.download="image.png",t.href=e.current.toDataURL(),document.body.appendChild(t),t.click(),document.body.removeChild(t)}(u),o(!1),n({type:C,payload:!1}))}),[t,i]);return[function(e,t){n({type:C,payload:t}),o(!0),b(e)}]},ut=(n(374),n(377),n(371)),bt=n(154),jt=n.n(bt),pt=n(200),xt=function(){var e=De(),t=e.currentMoves,n=e.actualMove,c=function(){var e=Object(pt.a)(jt.a.mark((function e(c,r){var a;return jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/diagram",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({diagramIsPublic:c,letters:n.letters,words:JSON.stringify((i=t,i.map((function(e){return{index:e.index,choiceOptions:b(e)}})))),solution:JSON.stringify(j(n)),tags:r})}).then((function(e){return e.text()}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}var i}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{addDiagramCallback:c}},Ot=n(201),ft=(n(272),function(e){var t=e.tags,n=e.setTags;return Object(Ne.jsx)(Ot.WithContext,{placeholder:"dodaj tagi",tags:t,allowDragDrop:!1,delimiters:[188,13],minQueryLength:0,inputFieldPosition:"bottom",autofocus:!0,editable:!0,autocomplete:!0,handleDelete:function(e){return n(t.filter((function(t,n){return n!==e})))},handleAddition:function(e){return n((function(t){return[].concat(Object(Ve.a)(t),[e])}))}})}),ht=Se.b.div(B||(B=Object(Ae.a)(["\n  position: absolute;\n  width: 360px;\n  backdrop-filter: blur(2px) saturate(152%);\n  -webkit-backdrop-filter: blur(2px) saturate(152%);\n  background-color: rgba(60, 161, 92, 0.85);\n  border-radius: 12px;\n  // border: 1px solid rgba(255, 255, 255, 0.125);\n  // border: 3px solid #06912c;\n  z-index: 10;\n  top: 50%;\n  left: 50vw;\n  padding: 15px;\n  transform: translate(-50%, -50%);\n  box-shadow: rgba(0, 0, 0, 0.8) 0px 18px 50px -10px;\n\n  button.positive {\n    background-color: #03252b !important;\n  }\n"]))),vt=Object(Se.b)(ut.a)(F||(F=Object(Ae.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),mt=Object(Se.b)(ut.a.Group)(W||(W=Object(Ae.a)(["\n  display: flex;\n  justify-content: center;\n"]))),gt=function(e){var t=e.close,n=Object(c.useState)([]),r=Object(d.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(!1),l=Object(d.a)(o,2),s=l[0],u=l[1],b=Object(c.useState)(""),j=Object(d.a)(b,2),p=(j[0],j[1],xt().addDiagramCallback),x=function(e,t){var n=t.value;return u(n)};return Object(Ne.jsx)(ht,{children:Object(Ne.jsxs)(vt,{onSubmit:function(){p(s,a),t()},children:[Object(Ne.jsxs)(mt,{children:[Object(Ne.jsx)(ut.a.Radio,{label:"publiczne",name:"radioGroup",value:!0,checked:s,onChange:x}),Object(Ne.jsx)(ut.a.Radio,{label:"prywatne",name:"radioGroup",value:!1,checked:!s,onChange:x})]}),Object(Ne.jsx)(ft,{tags:a,setTags:i}),Object(Ne.jsx)(ut.a.Button,{positive:!0,type:"submit",children:"Zapisz"})]})})},yt=Se.b.div(D||(D=Object(Ae.a)(["\n  display: flex;\n  width: 660px;\n  justify-content: space-between;\n"]))),wt=function(e){var t=e.stageRef,n=Object(c.useState)(!1),r=Object(d.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(!1),l=Object(d.a)(o,2),s=l[0],u=l[1],b=Object(c.useState)(!1),j=Object(d.a)(b,2),p=j[0],x=j[1],O=dt(),f=Object(d.a)(O,1)[0],h=Object(c.useCallback)((function(){return x(!1)}),[]);return Object(Ne.jsxs)(yt,{"data-testid":"buttons-wrapper",children:[Object(Ne.jsx)(tt,{onClick:function(){return u((function(e){return!e}))},clicked:s,children:"Wykre\u015blanka"}),Object(Ne.jsx)(tt,{onClick:function(){return i((function(e){return!e}))},clicked:a,children:"Pe\u0142ny zapis"}),Object(Ne.jsx)(tt,{onClick:function(){return f(t,!0)},children:"Zapisz obraz (przed)"}),Object(Ne.jsx)(tt,{onClick:function(){return f(t,!1)},children:"Zapisz obraz (po)"}),Object(Ne.jsx)(tt,{onClick:function(){return x((function(e){return!e}))},children:"Dodaj jako zadanie"}),s?Object(Ne.jsx)(qe,{}):null,a?Object(Ne.jsx)(st,{}):null,p?Object(Ne.jsx)(gt,{close:h}):null]})},kt=function(e){var t=Ee(),n=t.moves,r=t.withoutNewMove,a=Object(c.useState)(!1),i=Object(d.a)(a,2),o=i[0],l=i[1],s=De().actualOption,u=Object(c.useRef)(null);return Object(c.useEffect)((function(){e||setTimeout((function(){return l(!0)}),1e3)}),[e]),{moves:n,withoutNewMove:r,boardIsFront:o,actualOption:s,stageRef:u}},Ct=function(){},Nt=function(e){var t=e.x,n=e.y,c=e.bonusType,r=e.callback,a=void 0===r?Ct:r,i=Ee().fieldSize,o=function(){return a(t,n)};return Object(Ne.jsxs)(Ne.Fragment,{children:[Object(Ne.jsx)(Pe.c,{x:t*i,y:n*i,width:i,height:i,fill:"#08763b",stroke:"#badce9",strokeWidth:1,"data-testid":"board-field",onClick:o,onTap:o}),c?Object(Ne.jsxs)(Ne.Fragment,{children:[Object(Ne.jsx)(Pe.c,{x:t*i+i/2,y:n*i-i/4+1,width:i,height:i,fill:Te[c].color,rotation:45,"data-testid":"rotated-rect"}),Object(Ne.jsx)(Pe.c,{x:t*i,y:n*i,width:i,height:i,fill:Te[c].color,stroke:"#badce9",strokeWidth:1,onClick:o,onTap:o}),Object(Ne.jsx)(Pe.f,{x:t*i,y:n*i+(i>37?8:6),width:i,height:i,text:Te[c].text,align:"center",fontSize:i>37?7:i/6,verticalAlign:"center",fontFamily:"Calibri",padding:1,onClick:o,onTap:o}),"middle"===c&&Object(Ne.jsx)(Pe.e,{x:t*i+i/2,y:n*i+i/2,numPoints:8,innerRadius:i/6,outerRadius:i/4,fill:"#DC9C10",opacity:1,"data-testid":"star",onClick:o})]}):null]})},It=[[[[1,1],[2,2],[3,3],[4,4],[10,10],[11,11],[12,12],[13,13],[1,13],[2,12],[3,11],[4,10],[10,4],[11,3],[12,2],[13,1]],"word2"],[[[0,0],[0,7],[0,14],[7,0],[7,14],[14,0],[14,7],[14,14]],"word3"],[[[0,3],[0,11],[2,6],[2,8],[3,0],[3,7],[3,14],[6,2],[6,6],[6,8],[6,12],[7,3],[7,11],[8,2],[8,6],[8,8],[8,12],[11,0],[11,7],[11,14],[12,6],[12,8],[14,3],[14,11]],"letter2"],[[[1,5],[1,9],[5,1],[5,5],[5,9],[5,13],[9,1],[9,5],[9,9],[9,13],[13,5],[13,9]],"letter3"],[[[7,7]],"middle"]],Et=function(){},Mt=function(e){var t=e.coords,n=e.type,c=e.callback;return t.map((function(e){return Object(Ne.jsx)(Nt,{x:e[0],y:e[1],bonusType:n,callback:c},e)}))},zt=function(e){return Object(Ve.a)(Array(15).keys()).map((function(t){return Object(Ve.a)(Array(15).keys()).map((function(n){return Object(Ne.jsx)(Nt,{x:t,y:n,callback:e},"".concat(t).concat(t).concat(n))}))})).flat()},At=function(e){var t=e.handleBoardClick,n=void 0===t?Et:t;return Object(Ne.jsxs)(Ne.Fragment,{children:[zt(n),It.map((function(e){return Object(Ne.jsx)(Mt,{coords:e[0],type:e[1],callback:n})}))]})},St=function(){var e=Object(c.useState)(38),t=Object(d.a)(e,2),n=t[0],r=t[1],a=function(){var e=window.outerWidth>650?38:Math.floor((window.outerWidth-80)/15);console.log(window.outerWidth,e),r(e)};return Object(c.useEffect)((function(){return a(),window.addEventListener("resize",a),function(){return window.removeEventListener("resize",a)}}),[]),{fieldSize:n}},Pt=function(){},Rt=Se.b.div(_||(_=Object(Ae.a)(["\n  position: relative;\n  top: 30px;\n  left: 40px;\n  height: calc(100% - 80px);\n  width: calc(100% - 80px);\n\n  canvas {\n    background: red;\n    z-index: 10;\n  }\n\n  ","\n"])),(function(e){return!e.simpleView&&Object(Se.a)(V||(V=Object(Ae.a)(["\n      &::before {\n        content: '';\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        background-color: #c02929;\n        width: calc(100% / 15);\n        height: calc(100% / 15);\n        transform: rotate(45deg);\n        left: 30x;\n        box-shadow: 80px 80px #7590c7, 188px 188px #c02929, 294px 294px #7590c7, 376px 376px #c02929, 80px -80px #7590c7,\n          188px -188px #c02929, 296px -296px #7590c7, 376px -376px #c02929, 456px -297px #7590c7, 564px -189px #c02929,\n          673px -80px #7590c7, 752px 0px #c02929, 673px 80px #7590c7, 564px 189px #c02929, 456px 297px #7590c7;\n      }\n      &::after {\n        content: '';\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        box-shadow: 0px 0px 0px 1px #badce9;\n      }\n    "])))})),Tt=function(e){var t=e.stageRef,n=void 0===t?{}:t,c=e.contextValue,r=e.children,a=e.handleBoardClick,i=void 0===a?Pt:a,o=St().fieldSize;return Object(Ne.jsx)(Rt,{simpleView:o<38,children:Object(Ne.jsx)(Pe.d,{width:15*o,height:15*o,ref:n,children:Object(Ne.jsx)(ze.Provider,{value:Object(s.a)(Object(s.a)({},c),{},{fieldSize:o}),children:Object(Ne.jsxs)(Pe.b,{fill:"#111",children:[Object(Ne.jsx)(Pe.c,{width:15*o,height:15*o,fill:"#08763b"}),Object(Ne.jsx)(At,{handleBoardClick:i}),r]})})})})},Lt=Se.b.div(U||(U=Object(Ae.a)(["\n  margin-top: 5px;\n  margin-bottom: 5px;\n  min-width: 650px;\n  height: 650px;\n  width: 650px;\n  box-sizing: content-box;\n  background-color: #08763b;\n  border: 3px solid rgb(34, 51, 51);\n  transform: translateX(65%) perspective(1000px) rotateX(70deg) rotateZ(-45deg);\n  transform-style: preserve-3d;\n  transition: 1s linear;\n  -webkit-transition: 1s linear;\n\n  ","\n"])),(function(e){return e.plainView&&Object(Se.a)(H||(H=Object(Ae.a)(["\n      transform: rotateX(720deg);\n    "])))})),Bt=function(e){var t,n=e.asBackground,r=void 0!==n&&n,a=kt(r),i=a.moves,o=a.withoutNewMove,l=a.boardIsFront,s=a.actualOption,d=a.stageRef,b=Object(c.useContext)(ze);return Object(Ne.jsxs)(Ne.Fragment,{children:[(null===i||void 0===i?void 0:i.length)?Object(Ne.jsx)(wt,{stageRef:d}):null,Object(Ne.jsxs)(Lt,{plainView:l,"data-testid":"board",children:[r?Object(Ne.jsxs)(Ne.Fragment,{children:[Object(Ne.jsx)(Ze,{}),Object(Ne.jsx)(Ze,{top:!0})]}):null,Object(Ne.jsx)(Xe,{}),Object(Ne.jsxs)(Tt,{contextValue:b,stageRef:d,children:[s?Object(Ne.jsx)(_e,{}):null,o||!s||(t=s,u.some((function(e){return e===t.coordinates})))?null:Object(Ne.jsx)(We,{letters:s.word,coordinates:s.coordinates,isNewMove:!0})]})]})]})},Ft=n(203),Wt=/->(\s*.*)/gi,Dt=/(->(\s*.*))| ((best)|(\d+\.\d*))(.*)/gi,_t=/\([^\)]+\)/g,Vt=/[a-z \u0105\u0119\xf3\u015b\u0142\u017c\u017a\u0107\u0144]/g,Ut=function e(){var t=this;Object(Ft.a)(this,e),this.convertTextByRegex=function(e){return e.match(Dt)},this.findFreeLetters=function(e,t){var n=e.replace(_t,"").replace(Vt,"?").split(""),c=t.split("");return n.forEach((function(e){return c.splice(c.indexOf(e),1)})),c.join("")},this.pushMoveByLineToArray=function(e,n){var c=e.replace(/\*/g," *").split(/\s+/).filter((function(e){return""!==e}));if(e.match(Wt))n.push({index:n.length,nick:c[1],letters:c[2],pointsBefore:c[3],move:e,choiceOptions:[]});else{var r=n.length-1;n[r].choiceOptions.push({index:n[r].choiceOptions.length,evaluate:c[0],coordinates:c[1],word:c[2],movePoints:c[3],percent:c.length>4?"%"===c[4][c[4].length-1]?c[4]:"0%":"",freeLetters:t.findFreeLetters(c[2],n[r].letters)})}},this.readReport=function(e,n){var c=[],r=e.target.files[0];if(!r)return 0;var a=new FileReader;a.onload=function(e){t.convertTextByRegex(e.target.result).forEach((function(e){return t.pushMoveByLineToArray(e,c)})),n(c)},a.readAsText(r)}},Ht=Se.b.div(J||(J=Object(Ae.a)(["\n  width: 100vw;\n  display: flex;\n  justify-content: center;\n  position: absolute;\n  height: 200px;\n  line-height: 200px;\n  z-index: 2;\n"]))),Jt=Se.b.a(G||(G=Object(Ae.a)(["\n  font-size: 35px;\n  display: block;\n  color: #3c4a3e;\n  text-transform: uppercase;\n  position: relative;\n  margin-left: 25px;\n  margin-right: 25px;\n  &:visited {\n    color: #3c4a3e;\n  }\n  &:hover {\n    color: #96b364;\n  }\n\n  &:hover:before {\n    opacity: 1;\n    width: 200px;\n  }\n\n  &:before {\n    position: absolute;\n    content: '';\n    width: 130px;\n    height: 2px;\n    background: #3c4a3e;\n    bottom: 70px;\n    left: 50%;\n    transform: translateX(-50%);\n    opacity: 0;\n    transition: 0.4s;\n  }\n  &:first-of-type::after {\n    content: '';\n    position: absolute;\n    width: 3px;\n    height: 80px;\n    transform: rotate(15deg);\n    background: #3c4a3e;\n    top: 60px;\n    right: -25px;\n  }\n"]))),Gt=Se.b.input(X||(X=Object(Ae.a)(["\n  display: none;\n"]))),Xt=function(){var e=Ee().dispatch,t=Object(c.useRef)(null),n=Object(l.f)(),r=function(t){e({type:h,payload:Object(Ve.a)(t)}),n("/analiza")};return Object(Ne.jsxs)(Ht,{"data-testid":"home-menu",children:[Object(Ne.jsx)(Gt,{ref:t,type:"file",onInput:function(e){return(new Ut).readReport(e,r)}}),Object(Ne.jsx)(Jt,{href:"#",onClick:function(){return t.current.click()},children:"Analizuj parti\u0119"}),Object(Ne.jsx)(Jt,{onClick:function(){return n("/dodaj-zapis")},children:"Rozwi\u0105zuj zadania"})]})},Zt=Se.b.div(Z||(Z=Object(Ae.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]))),Yt=Se.b.div(Y||(Y=Object(Ae.a)(["\n  height: 38px;\n  width: 200px;\n  color: white;\n"]))),Kt=Se.b.div(K||(K=Object(Ae.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: 15px;\n  margin-top: 15px;\n"]))),Qt=function(){var e=Ee().dispatch;return Object(c.useEffect)((function(){e({type:N})}),[]),Object(Ne.jsxs)(Zt,{children:[Object(Ne.jsx)(Xt,{}),Object(Ne.jsxs)(Kt,{children:[Object(Ne.jsx)(Yt,{}),Object(Ne.jsx)(Bt,{asBackground:!0})]})]})},$t=Se.b.div(Q||(Q=Object(Ae.a)(["\n  flex-grow: 1;\n  width: 80%;\n\n  .ui.basic.striped.table tbody .active {\n    background-color: #d5faddad !important;\n  }\n"]))),qt=Object(Se.b)(nt.a.Row)($||($=Object(Ae.a)(["\n  cursor: pointer;\n"]))),en=function(e){var t=e.params,n=e.selected,c=e.index,r=Ee().dispatch,a=t.evaluate,i=t.coordinates,o=t.word,l=t.movePoints,s=t.percent,d=t.freeLetters;return Object(Ne.jsxs)(qt,{active:n,onClick:function(){return r({type:k,payload:c})},children:[Object(Ne.jsx)(nt.a.Cell,{children:a}),Object(Ne.jsx)(nt.a.Cell,{children:i}),Object(Ne.jsx)(nt.a.Cell,{children:o}),Object(Ne.jsx)(nt.a.Cell,{children:l}),Object(Ne.jsx)(nt.a.Cell,{children:s}),Object(Ne.jsx)(nt.a.Cell,{children:d})]})},tn=function(){var e=Ee().actualOptionIndex,t=De().actualMove.choiceOptions.map((function(t,n){return Object(Ne.jsx)(en,{index:n,params:t,selected:n===e},n)}));return Object(Ne.jsx)($t,{children:Object(Ne.jsxs)(nt.a,{basic:"very",striped:!0,unstackable:!0,children:[Object(Ne.jsx)(nt.a.Header,{children:Object(Ne.jsx)(nt.a.Row,{})}),Object(Ne.jsx)(nt.a.Body,{children:t})]})})},nn=Se.b.div(q||(q=Object(Ae.a)(["\n  background-color: #f8e8c7;\n  display: inline-block;\n  box-sizing: border-box;\n  color: #015b52;\n  font-size: 40px;\n  height: 65px;\n  min-width: 65px;\n  max-width: 65px;\n  line-height: 65px;\n  border-radius: 10%;\n  text-align: center;\n  cursor: pointer;\n  user-select: none;\n  font-family: Arial;\n  font-weight: bold;\n  position: relative;\n  margin: 6px;\n\n  ","\n\n  ","\n  ","\n    ","\n"])),(function(e){return e.small&&Object(Se.a)(ee||(ee=Object(Ae.a)(["\n      line-height: 30px;\n      height: 30px;\n      min-width: 30px;\n      max-width: 30px;\n      font-size: 20px;\n      margin: 3px;\n    "])))}),(function(e){return e.played&&Object(Se.a)(te||(te=Object(Ae.a)(["\n      background-color: #1ae825;\n    "])))}),(function(e){return e.blank&&Object(Se.a)(ne||(ne=Object(Ae.a)(["\n      color: #015b5266;\n    "])))}),(function(e){return e.transparent&&Object(Se.a)(ce||(ce=Object(Ae.a)(["\n      opacity: 0;\n    "])))})),cn=Se.b.sub(re||(re=Object(Ae.a)(["\n  font-size: 15px;\n  position: absolute;\n  bottom: 12px;\n  right: 8px;\n\n  ","\n"])),(function(e){return e.small&&Object(Se.a)(ae||(ae=Object(Ae.a)(["\n      font-size: 8px;\n      bottom: 5px;\n      right: 4px;\n    "])))})),rn=function(e){var t=e.letter,n=e.played,c=e.onBoard,r=e.transparent,a=e.small,i=e.clickHandler,o=t===t.toLowerCase();return Object(Ne.jsx)(Ne.Fragment,{children:["(",")"].includes(t)?null:Object(Ne.jsxs)(nn,{played:n,onBoard:c,transparent:r,blank:o,small:a,onClick:function(){return null===i||void 0===i?void 0:i(t)},children:[t.toUpperCase(),Object(Ne.jsx)(cn,{small:a,children:!o&&Re[t]})]})})},an=function(){var e=De(),t=e.actualOption,n=e.actualMove;if(!t)return null;var c=t.freeLetters.split(""),r=function(e){var t=c.indexOf(e);return-1===t||(c.splice(t,1),!1)};return{letters:n.letters.split("").map((function(e){return{letter:e,played:r(e)}}))}},on=Se.b.div(ie||(ie=Object(Ae.a)(["\n  display: flex;\n  justify-content: center;\n"]))),ln=function(e){var t=e.letters,n=e.small,c=e.clickHandler;return t.map((function(e,t){var r=e.letter,a=e.played;return Object(Ne.jsx)(rn,{letter:r,played:a,small:n,clickHandler:c},t)}))},sn=function(e){var t=e.inputValue,n=e.handleClickOnTile,c=St().fieldSize,r=t.toUpperCase().split("").map((function(e){return{letter:e,played:!1}}));return Object(Ne.jsx)(on,{children:Object(Ne.jsx)(ln,{small:c<38,letters:r,clickHandler:n})})},dn=function(){var e=an().letters;return Object(Ne.jsx)(on,{"data-testid":"rack",children:Object(Ne.jsx)(ln,{letters:e})})},un=function(){var e=Ee().dispatch,t=function(t){39===t.keyCode&&e({type:m}),37===t.keyCode&&e({type:g}),38===t.keyCode&&e({type:w}),40===t.keyCode&&e({type:y})};return Object(c.useEffect)((function(){return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[]),null},bn=Se.b.div(oe||(oe=Object(Ae.a)(["\n  margin: auto;\n"]))),jn=Object(Se.b)(et.a)(le||(le=Object(Ae.a)(["\n  min-width: 80px;\n  margin-left: 20px;\n  background-color: #03252b !important;\n  color: #f9e254 !important;\n\n  &:hover {\n    background-color: #779827 !important;\n    color: #3b4b2e !important;\n  }\n"]))),pn=function(){var e=Ee().dispatch;un();return Object(Ne.jsxs)(bn,{"data-testid":"game-navigation",children:[Object(Ne.jsx)(jn,{icon:"fast backward",onClick:function(){return e({type:v,payload:0})}}),Object(Ne.jsx)(jn,{icon:"backward",onClick:function(){return e({type:g})}}),Object(Ne.jsx)(jn,{icon:"forward",onClick:function(){return e({type:m})}}),Object(Ne.jsx)(jn,{icon:"fast forward",onClick:function(){return e({type:v,payload:-1})}})]})},xn=n(372),On=n(378),fn=n(379),hn=n(370),vn=Object(Se.b)(xn.a.Header)(se||(se=Object(Ae.a)(["\n  width: 200px;\n"]))),mn=Se.b.div(de||(de=Object(Ae.a)(["\n  font-size: 17px;\n  font-weight: bold;\n"]))),gn=Se.b.div(ue||(ue=Object(Ae.a)(["\n  color: #e84717;\n  font-size: 11px;\n"]))),yn=function(e){var t,n,r=e.order,a=Ee(),i=a.moves,o=a.actualMoveIndex,l=a.actualOptionIndex,s=Object(c.useState)(0),u=Object(d.a)(s,2),b=u[0],j=u[1],p=i[r].nick.replace("_"," ");return Object(c.useEffect)((function(){var e;j(r===o%2?i[o].pointsBefore:null===(e=i[o+1])||void 0===e?void 0:e.pointsBefore)}),[o,i,r]),Object(Ne.jsx)(On.a.Column,{children:Object(Ne.jsx)(xn.a,{children:Object(Ne.jsxs)(xn.a.Content,{children:[Object(Ne.jsx)(vn,{as:"h3",children:p}),Object(Ne.jsx)(mn,{children:b}),r===o%2?Object(Ne.jsxs)(gn,{children:["+",null===(t=i[o])||void 0===t||null===(n=t.choiceOptions[l])||void 0===n?void 0:n.movePoints]}):Object(Ne.jsx)(gn,{})]})})})},wn=function(){return Object(Ne.jsx)(Ne.Fragment,{children:Object(Ne.jsxs)(fn.a,{compact:!0,children:[Object(Ne.jsxs)(On.a,{columns:2,relaxed:"very",stackable:!0,textAlign:"center",children:[Object(Ne.jsx)(yn,{order:0}),Object(Ne.jsx)(yn,{order:1})]}),Object(Ne.jsx)(hn.a,{vertical:!0,children:"Vs"})]})})},kn=Se.b.div(be||(be=Object(Ae.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]))),Cn=Se.b.div(je||(je=Object(Ae.a)(["\n  display: flex;\n  flex-direction: column;\n  min-width: 650px;\n  position: relative;\n  margin-left: 15px;\n  margin-top: 15px;\n"]))),Nn=Se.b.div(pe||(pe=Object(Ae.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  flex-grow: 1;\n  margin-top: 15px;\n  z-index: 2;\n"]))),In=function(){var e=Ee().actualMoveIndex;return Object(Ne.jsxs)(kn,{children:[Object(Ne.jsxs)(Cn,{children:[Object(Ne.jsx)(Bt,{}),Object(Ne.jsx)(pn,{})]}),void 0!==e?Object(Ne.jsxs)(Nn,{"data-testid":"move-content",children:[Object(Ne.jsx)(wn,{}),Object(Ne.jsx)(tn,{}),Object(Ne.jsx)(dn,{})]}):null]})},En=Se.b.div(xe||(xe=Object(Ae.a)(["\n  width: 100vw;\n  min-height: 100vh;\n  position: relative;\n"]))),Mn=Se.b.div(Oe||(Oe=Object(Ae.a)(["\n  position: absolute;\n  z-index: -1;\n  width: 100%;\n  min-height: 100%;\n  clip-path: polygon(81% 23%, 100% 10%, 100% 100%, 0 100%, 0 37%, 18% 30%);\n  background: rgb(129, 246, 166);\n  background: linear-gradient(103deg, rgba(129, 246, 166, 1) 0%, rgba(78, 171, 107, 1) 36%, rgba(41, 150, 75, 1) 100%);\n"]))),zn=function(e){var t=e.children;return Object(Ne.jsxs)(En,{"data-testid":"main-template",children:[Object(Ne.jsx)(Mn,{"data-testid":"main-template-background"}),t]})},An=function(e){var t=e.x,n=e.y,c=e.vertical,r=void 0===c||c,a=e.callback,i=Ee().fieldSize,o=i>37?20:i/2;return Object(Ne.jsx)(Pe.a,{x:t*i+i/2+(r?0:o/2),y:n*i+i/2+(r?o/2:0),rotation:r?90:0,pointerLength:o,pointerWidth:o,fill:"yellow",opacity:.8,onClick:a,onTap:a})},Sn=function(e){return e.replace(/[\(,\),\!]/g,"")},Pn=function(e,t){return e.vertical?{x:e.x,y:e.y+t}:{y:e.y,x:e.x+t}},Rn=function(){var e=Object(c.useRef)(null),t=Object(c.useState)(""),n=Object(d.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(""),o=Object(d.a)(i,2),l=o[0],u=o[1],b=Object(c.useState)([{name:"player_1",current:!0,letters:""},{name:"player_2",current:!1,letters:""}]),j=Object(d.a)(b,2),O=j[0],f=j[1],h=Object(c.useState)({x:5,y:5,vertical:!0}),v=Object(d.a)(h,2),m=v[0],g=v[1],y=Object(c.useState)(""),w=Object(d.a)(y,2),k=w[0],C=w[1],N=Object(c.useState)([]),I=Object(d.a)(N,2),E=I[0],M=I[1],z=Object(c.useState)([]),A=Object(d.a)(z,2),S=A[0],P=A[1],R=Object(c.useMemo)((function(){return O.find((function(e){return e.current}))}),[O,E.length]),T=function(){var e=O.findIndex((function(e){return e.current}));O[e]=Object(s.a)(Object(s.a)({},O[e]),{},{current:!1,letters:r});var t=e+1===O.length?0:e+1;O[t]=Object(s.a)(Object(s.a)({},O[t]),{},{current:!0}),a(O[t].letters)},L=Object(c.useCallback)((function(e){var t=e.loss,n=void 0!==t&&t;if(l){var c=W(m,1,!0),a=Sn(k),i=Object(s.a)(Object(s.a)({},m),Pn(m,-c.length)),o=O.find((function(e){return e.current})).name;M((function(e){return[].concat(Object(Ve.a)(e),[{player:o,letters:"".concat(r).concat(p(a)),word:"".concat(n?"!":"").concat(c?"(".concat(c,")"):"").concat(k),points:parseInt(l),coordinates:x(i),sumPoints:e.filter((function(e){return e.player===o})).reduce((function(e,t){return e+t.points}),parseInt(l))}])})),n||function(e,t){var n=Array(t).fill({}).map((function(t,n){return Pn(e,n)}));P((function(e){return[].concat(Object(Ve.a)(e),Object(Ve.a)(n))}))}(m,a.length),C(""),u(""),T()}}),[l,r,k,m]),B=Object(c.useCallback)((function(e,t){g((function(n){return n.x===e&&n.y===t?{x:e,y:t,vertical:!n.vertical}:{x:e,y:t,vertical:!1}}))}),[]),F=Object(c.useCallback)((function(){return g((function(e){return Object(s.a)(Object(s.a)({},e),{},{vertical:!e.vertical})}))}),[]),W=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c="",r=n?-1:1,a=Pn(e,t*r);S.some((function(e){return e.x===a.x&&e.y===a.y}));)c="".concat(c,"."),a=Pn(e,(t+c.length)*r);return c},D=Object(c.useCallback)((function(e){if(r.includes(e)||r.includes("?")){var t=!r.includes(e);C((function(n){var c=t?e.toLowerCase():e,r=Sn(n).length+1,a=W(m,r);return"".concat(n).concat(c).concat(a?"(".concat(a,")"):"")})),a((function(n){return t?n.replace("?",""):n.replace(e,"")}))}}),[r,m.x,m.y,m.vertical,S]),_=Object(c.useCallback)((function(e){null===e||void 0===e||e.preventDefault(),C(""),a((function(e){return"".concat(e).concat(p(k))}))}),[k]),V=function(e){var t=e.keyCode;"INPUT"===e.target.nodeName||t<64||t>123||D(e.key.toUpperCase())};return Object(c.useEffect)((function(){return document.addEventListener("keydown",V),function(){return document.removeEventListener("keydown",V)}}),[r,m]),{pointsRef:e,inputValue:r,startPosition:m,wordPosition:x(m),currentWord:k,moves:E,points:l,playerName:R.name,handleBoardClick:B,handlePutNewLetter:D,handleOnChange:function(t){var n,c,r=t.target,i=r.value.split("").pop();return/^[0-9]$/i.test(i)?(u(i),void(null===(c=e.current)||void 0===c||c.focus())):r.value.length>7?null===(n=e.current)||void 0===n?void 0:n.focus():void a(r.value.toUpperCase())},handleArrowClick:F,handleExchange:function(){M((function(e){return[].concat(Object(Ve.a)(e),[{player:R.name,letters:"A",word:"-7",points:0,coordinates:"",sumPoints:e.filter((function(e){return e.player===R.name})).reduce((function(e,t){return e+t.points}),0)}])})),T()},handleLoss:function(){L({loss:!0}),M((function(e){var t=Object(Ve.a)(e).pop();return[].concat(Object(Ve.a)(e),[{player:t.player,letters:t.letters,word:"--",points:-parseInt(t.points),coordinates:"",sumPoints:t.sumPoints-parseInt(t.points)}])}))},resetCurrentWord:_,addMove:L,setName:function(e){var t=e.target;f((function(e){return[].concat(Object(Ve.a)(e.filter((function(e){return!e.current}))),[Object(s.a)(Object(s.a)({},R),{},{name:t.value})])}))},setPoints:u,downloadGame:function(){var e=function(e){var t=e[0].player,n=e[1].player,c=e.map((function(e){return">".concat(e.player,": ").concat(e.letters," ").concat(e.coordinates," ").concat(Sn(e.word)," +").concat(e.points," ").concat(e.sumPoints," ")}));return"#character-encoding UTF-8\n#player1 ".concat(t," ").concat(t,"\n#player2 ").concat(n," ").concat(n,"\n").concat(c.join("\r\n"))}(E),t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),t.setAttribute("download","game.gcg"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}}},Tn=Se.b.div(fe||(fe=Object(Ae.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n"]))),Ln=Se.b.div(he||(he=Object(Ae.a)(["\n  min-width: min(550px, 95%);\n  max-width: 550px;\n  min-height: 36px;\n  max-height: 80px;\n  background: #0c5605;\n  position: relative;\n"]))),Bn=Se.b.div(ve||(ve=Object(Ae.a)(["\n  display: flex;\n  justify-content: center;\n  max-width: 95vw;\n"]))),Fn=Se.b.input(me||(me=Object(Ae.a)(["\n  display: block;\n  border: none;\n  font-weight: bold;\n  outline: none;\n  font-size: 16px;\n  margin: auto;\n"]))),Wn=Se.b.input(ge||(ge=Object(Ae.a)(["\n  width: min(80px, 6vw);\n  // height: min(80px, 100%);\n  min-width: 40px;\n  margin-left: 10px;\n  text-align: center;\n  font-size: 22px;\n  -moz-appearance: textfield;\n\n  &::-webkit-outer-spin-button,\n  &::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n"]))),Dn=Se.b.input(ye||(ye=Object(Ae.a)(["\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  position: absolute;\n"]))),_n=Se.b.div(we||(we=Object(Ae.a)(["\n  max-width: 650px;\n  max-height: 650px;\n  position: relative;\n  margin-bottom: 30px;\n"]))),Vn=Se.b.div(ke||(ke=Object(Ae.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin-top: 15px;\n  max-width: 100vw;\n"]))),Un=Se.b.div(Ce||(Ce=Object(Ae.a)(["\n  position: relative;\n  height: auto;\n  background-image: url('","');\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  flex-grow: 1;\n  margin-top: 5px;\n"])),(function(e){return e.imgSrc})),Hn=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useRef)(null);return Object(Ne.jsxs)(Un,{imgSrc:n,children:[Object(Ne.jsx)(Dn,{ref:a,type:"file",onInput:function(e){r(URL.createObjectURL(e.target.files[0]))}}),n?null:Object(Ne.jsx)(tt,{onClick:function(){return a.current.click()},children:"zdj\u0119cie"})]})},Jn=function(){var e=Rn(),t=e.pointsRef,n=e.inputValue,c=e.startPosition,r=e.wordPosition,a=e.currentWord,i=e.moves,o=e.playerName,l=e.points,s=e.handlePutNewLetter,d=e.handleBoardClick,u=e.handleOnChange,b=e.handleArrowClick,j=e.handleExchange,p=e.handleLoss,x=e.resetCurrentWord,O=e.addMove,f=e.setName,h=e.setPoints,v=e.downloadGame;return Object(Ne.jsxs)(Tn,{children:[Object(Ne.jsx)(Fn,{value:o,onChange:f}),Object(Ne.jsxs)(Bn,{children:[Object(Ne.jsxs)(Ln,{onContextMenu:x,children:[Object(Ne.jsx)(Dn,{value:n,onChange:u}),Object(Ne.jsx)(sn,{inputValue:n,handleClickOnTile:s})]}),Object(Ne.jsx)(Wn,{ref:t,type:"number",value:l,onChange:function(e){var t=e.target;return h(t.value)}})]}),Object(Ne.jsxs)(Vn,{children:[Object(Ne.jsx)(tt,{onClick:O,children:"dodaj"}),Object(Ne.jsx)(tt,{onClick:j,children:"wymiana"}),Object(Ne.jsx)(tt,{onClick:p,children:"strata"}),Object(Ne.jsx)(tt,{onClick:x,children:"cofnij"}),Object(Ne.jsx)(tt,{onClick:v,children:"pobierz"})]}),Object(Ne.jsx)(_n,{children:Object(Ne.jsxs)(Tt,{handleBoardClick:d,children:[Object(Ne.jsx)(An,{x:c.x,y:c.y,vertical:c.vertical,callback:b}),Object(Ne.jsx)(We,{letters:a,coordinates:r,isNewMove:!0}),i.filter((function(e){return e.coordinates&&"!"!==e.word[0]})).map((function(e,t){return Object(Ne.jsx)(We,{letters:e.word,coordinates:e.coordinates},t)}))]})}),Object(Ne.jsx)(Hn,{})]})},Gn=function(){return Object(Ne.jsx)(Me,{children:Object(Ne.jsx)(zn,{children:Object(Ne.jsx)(o.a,{children:Object(Ne.jsxs)(l.c,{children:[Object(Ne.jsx)(l.a,{path:"/",element:Object(Ne.jsx)(Qt,{})}),Object(Ne.jsx)(l.a,{path:"/gcg-report-viewer/",element:Object(Ne.jsx)(Qt,{})}),Object(Ne.jsx)(l.a,{path:"/zadania",element:Object(Ne.jsx)(In,{})}),Object(Ne.jsx)(l.a,{path:"/analiza",element:Object(Ne.jsx)(In,{})}),Object(Ne.jsx)(l.a,{path:"/dodaj-zapis",element:Object(Ne.jsx)(Jn,{})})]})})})})};n(355);i.a.render(Object(Ne.jsx)(Ne.Fragment,{children:Object(Ne.jsx)(Gn,{})}),document.getElementById("root"))}},[[356,1,2]]]);
//# sourceMappingURL=main.2c079fcb.chunk.js.map